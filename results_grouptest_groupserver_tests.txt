npm verb cli /import/kamen/3/cs1531/.nvm/versions/node/v18.2.0/bin/node /import/kamen/3/cs1531/.nvm/versions/node/v18.2.0/bin/npm
npm info using npm@8.9.0
npm info using node@v18.2.0
npm timing npm:load:whichnode Completed in 0ms
npm timing config:load:defaults Completed in 2ms
npm timing config:load:file:/import/kamen/3/cs1531/.nvm/versions/node/v18.2.0/lib/node_modules/npm/npmrc Completed in 1ms
npm timing config:load:builtin Completed in 1ms
npm timing config:load:cli Completed in 3ms
npm timing config:load:env Completed in 0ms
npm timing config:load:file:/import/kamen/3/cs1531/project-automarking/tempstore/.npmrc Completed in 0ms
npm timing config:load:project Completed in 20ms
npm timing config:load:file:/import/kamen/3/cs1531/.npmrc Completed in 0ms
npm timing config:load:user Completed in 0ms
npm timing config:load:file:/import/kamen/3/cs1531/.nvm/versions/node/v18.2.0/etc/npmrc Completed in 2ms
npm timing config:load:global Completed in 2ms
npm timing config:load:validate Completed in 0ms
npm timing config:load:credentials Completed in 1ms
npm timing config:load:setEnvs Completed in 1ms
npm timing config:load Completed in 31ms
npm timing npm:load:configload Completed in 31ms
npm timing npm:load:mkdirpcache Completed in 7ms
npm timing npm:load:mkdirplogs Completed in 1ms
npm verb title npm run test **/?(*.)+(test).ts
npm verb argv "run" "test" "--loglevel" "verbose" "--testMatch" "**/?(*.)+(test).ts"
npm timing npm:load:setTitle Completed in 2ms
npm timing config:load:flatten Completed in 3ms
npm timing npm:load:display Completed in 7ms
npm verb logfile logs-max:10 dir:/import/kamen/3/cs1531/.npm/_logs
npm verb logfile /import/kamen/3/cs1531/.npm/_logs/2022-08-06T04_52_37_875Z-debug-0.log
npm timing npm:load:logFile Completed in 7ms
npm timing npm:load:timers Completed in 0ms
npm timing npm:load:configScope Completed in 0ms
npm timing npm:load Completed in 57ms

> test
> jest "**/?(*.)+(test).ts"

  Invalid testPattern **/?(*.)+(test).ts supplied. Running all tests instead.
  Invalid testPattern **/?(*.)+(test).ts supplied. Running all tests instead.
PASS src/tests/users.test.ts
PASS src/tests/addownerV1.test.ts
  ● Console

    console.log
      {}

      at Object.<anonymous> (src/tests/addownerV1.test.ts:50:13)

PASS src/tests/auth.test.ts
PASS src/tests/root.message.test.ts (8.557 s)
  ● Console

    console.log
      { messageId: 0 }

      at Object.<anonymous> (src/tests/root.message.test.ts:237:17)

    console.log
      {
        body: {
          error: {
            message: 'messageId does not refer to a valid message within a channel that the authorised user has joined'
          }
        },
        statusCode: 400
      }

      at Object.<anonymous> (src/tests/root.message.test.ts:247:17)

PASS src/tests/root.dm.test.ts
  ● Console

    console.log
      linux

      at Object.<anonymous> (src/tests/root.dm.test.ts:13:9)

    console.log
      http://127.0.0.1

      at Object.<anonymous> (src/tests/root.dm.test.ts:66:9)

PASS src/tests/root.channels.test.ts
FAIL src/tests/root.user.test.ts
  ● HTTP tests for user/profile/uploadPhoto/v1 › Testing correct output › correct outpu

    expect(received).toStrictEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 5

    - Object {}
    + Object {
    +   "error": Object {
    +     "message": "ENOENT: no such file or directory, open 'src/photos/uId01659761584208.jpg'",
    +   },
    + }

      234 |       const object = userProfileUploadPhotoV1SS(reg.token, url, 0, 0, 25, 25);
      235 |
    > 236 |       expect(object).toStrictEqual({});
          |                      ^
      237 |     });
      238 |   });
      239 | });

      at Object.<anonymous> (src/tests/root.user.test.ts:236:22)

PASS src/tests/root.auth.test.ts
  ● Console

    console.log
      {
        user: {
          uId: 0,
          email: 'ben.kerno4@gmail.com',
          nameFirst: 'benjamined',
          nameLast: 'kernohandomeessdfsdfrt',
          handleStr: 'benjaminedkernohando'
        }
      }

      at Object.<anonymous> (src/tests/root.auth.test.ts:282:13)

PASS src/tests/channelJoinV1.test.ts
PASS src/tests/root.standup.test.ts
  ● Console

    console.log
      authToken:  {"strToken":"0.6058987845606969","hashToken":"b86f35fd3b026865d7ce6d50a5b59bd9e003cf84f21f5d60d3f7a1b7afa50405"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:38:13)

    console.log
      authToken:  {"strToken":"0.475226037248371","hashToken":"094c2f90767f48caabc9ede54a9809e247289bc415f464cbd6f12e3a6df93793"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:45:13)

    console.log
      authToken:  {"strToken":"0.32659467364921846","hashToken":"132f006a6536df98f9a64571a9314731b1ff0a38306eef39c3277d2661b35315"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:53:13)

    console.log
      authToken:  {"strToken":"1.1447963722014798","hashToken":"914e7068bbd13bcbbdfa093f92d6b22d668536c44471e020052c202fb1ea6273"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:64:13)

    console.log
      authToken:  {"strToken":"0.08252945876403728","hashToken":"fad16f7e53aebfedc9b1e3b3e66264c7603a1566bc8ea58277e368f557eb2d94"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:72:13)

    console.log
      { statusCode: 200, body: { timeFinish: 1659761589 } }

      at Object.<anonymous> (src/tests/root.standup.test.ts:75:13)

    console.log
      authToken:  {"strToken":"0.32964746855231186","hashToken":"a8c9029d69602dabea741699267e740c68e8b9461ce2f9523a9a3d955ee810fd"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:90:13)

    console.log
      authToken:  {"strToken":"1.381616663904936","hashToken":"8944fda97c46390a0e3557f5c5835d2f4bdcf323ef1d9567daa1f44bdbf6d358"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:98:13)

    console.log
      authToken:  {"strToken":"0.9493862683365142","hashToken":"c44f2e014e119cadb82051a666db17ede064a419bfa1475832449398bd787d69"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:106:13)

    console.log
      authToken:  {"strToken":"0.8985004968693797","hashToken":"216bedc9d9f2e5f1f984362d0f3733bd8895a2a1eda68774a07e65a04e3e3f87"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:115:13)

    console.log
      authToken:  {"strToken":"0.108757145166821","hashToken":"298b9916fa30fd89cb9b119fcf8d0143b9780f9863a88c52d7b69467e2169a2a"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:133:13)

    console.log
      authToken:  {"strToken":"0.8262411571765131","hashToken":"8d4a23a9103253d690f782f32afa36e064aedd65b7e6b00c83ee39ffd1663a79"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:140:13)

    console.log
      authToken:  {"strToken":"1.1220862520550174","hashToken":"ee5ac286e2799a82efad764f74ce82c92a46d8fb266e3b2937763400639643b3"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:157:13)

    console.log
      authToken:  {"strToken":"0.6372337212654735","hashToken":"b14f21877c7d798a051c8f427af44cd6c6f48a1f2716f5c7041e8d683cc6c4bd"}

      at Object.<anonymous> (src/tests/root.standup.test.ts:166:13)

PASS src/tests/root.channel.test.ts
  ● Console

    console.log
      []

      at Object.<anonymous> (src/tests/root.channel.test.ts:107:15)

PASS src/tests/root.users.test.ts
  ● Console

    console.log
      linux

      at Object.<anonymous> (src/tests/root.users.test.ts:14:9)

PASS src/tests/channelInviteV1.test.ts
PASS src/tests/channelMessagesV1.test.ts
PASS src/tests/removeownerV1.test.ts
  ● Console

    console.log
      {
        token: '{"strToken":"0.42813193831165464","hashToken":"a974fe997a480ca787a43b5a64cf53a58154033a495de90befde845288c8ddc9"}',
        authUserId: 0
      }

      at Object.<anonymous> (src/tests/removeownerV1.test.ts:31:13)

    console.log
      {}

      at Object.<anonymous> (src/tests/removeownerV1.test.ts:77:13)

    console.log
      {
        name: 'name',
        isPublic: true,
        ownerMembers: [
          {
            uId: 0,
            email: 'kevinyu@unsw.com',
            nameFirst: 'Kevin',
            nameLast: 'Yu',
            handleStr: 'kevinyu'
          }
        ],
        allMembers: [
          {
            uId: 0,
            email: 'kevinyu@unsw.com',
            nameFirst: 'Kevin',
            nameLast: 'Yu',
            handleStr: 'kevinyu'
          },
          {
            uId: 1,
            nameFirst: 'Bob',
            nameLast: 'Smith',
            email: 'bob@unsw.com',
            handleStr: 'bobsmith'
          }
        ]
      }

      at Object.<anonymous> (src/tests/removeownerV1.test.ts:86:13)

    console.log
      {
        token: '{"strToken":"0.32402313796315685","hashToken":"f30efb76f43f059e1bb52efa03775c02d62a4132db3074980b0e93c78863bade"}',
        authUserId: 0
      }

      at Object.<anonymous> (src/tests/removeownerV1.test.ts:102:13)

PASS src/tests/channelsCreateV1.test.ts
PASS src/tests/channelsListV1.test.ts
PASS src/tests/leaveV1.test.ts
PASS src/tests/channelDetailsV1.test.ts
PASS src/tests/messagesV2.test.ts
  ● Console

    console.log
      { messageId: 0 }

      at Object.<anonymous> (src/tests/messagesV2.test.ts:46:13)

    console.log
      { messageId: 0 }

      at Object.<anonymous> (src/tests/messagesV2.test.ts:101:13)

PASS src/tests/inviteV2.test.ts
PASS src/tests/joinV2.test.ts
PASS src/tests/detailsV2.test.ts
PASS src/tests/authLoginV1.test.ts
PASS src/tests/channels.test.ts
PASS src/tests/other.test.ts
PASS src/tests/echo.test.ts
  ● Console

    console.log
      linux

      at Object.<anonymous> (src/tests/echo.test.ts:12:9)

    console.log
      http://127.0.0.1

      at Object.<anonymous> (src/tests/echo.test.ts:18:9)

PASS src/tests/token.test.ts

Summary of all failing tests
FAIL src/tests/root.user.test.ts
  ● HTTP tests for user/profile/uploadPhoto/v1 › Testing correct output › correct outpu

    expect(received).toStrictEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 5

    - Object {}
    + Object {
    +   "error": Object {
    +     "message": "ENOENT: no such file or directory, open 'src/photos/uId01659761584208.jpg'",
    +   },
    + }

      234 |       const object = userProfileUploadPhotoV1SS(reg.token, url, 0, 0, 25, 25);
      235 |
    > 236 |       expect(object).toStrictEqual({});
          |                      ^
      237 |     });
      238 |   });
      239 | });

      at Object.<anonymous> (src/tests/root.user.test.ts:236:22)


Test Suites: 1 failed, 27 passed, 28 total
Tests:       1 failed, 264 passed, 265 total
Snapshots:   0 total
Time:        50.844 s
Ran all test suites.
npm timing command:run Completed in 52801ms
npm verb exit 1
npm timing npm Completed in 52870ms
npm verb code 1
